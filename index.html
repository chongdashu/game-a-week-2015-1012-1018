<html>
<head>

    <script type="text/javascript" src="lib/jquery/jquery-2.1.4.min.js"></script>
    <script type="text/javascript" src="lib/bootstrap-3.3.5-dist/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="lib/phaser/phaser.js"></script>  
    <script type="text/javascript" src="lib/phaser/phaser.juicy.js"></script>
    <script type="text/javascript" src="lib/phaser/phaser.screenshake.js"></script>  


    <link rel="stylesheet" href="lib/bootstrap-3.3.5-dist/css/bootstrap.min.css"></link>
    <link rel="stylesheet" href="lib/bootstrap-3.3.5-dist/css/bootstrap-theme.min.css"></link>

    <script type="text/javascript" src="lib/jquery-ui-1.11.4/jquery-ui.min.js"></script>
    
    <link rel="stylesheet" href="lib/jquery-ui-1.11.4/jquery-ui.min.css"></link>
    <link rel="stylesheet" href="lib/jquery-ui-1.11.4/jquery-ui.structure.min.css"></link>
    <link rel="stylesheet" href="lib/jquery-ui-1.11.4/jquery-ui.theme.min.css"></link>
    
    <script type="text/javascript" src="js/Main.js"></script>
    <script type="text/javascript" src="js/chongdashu/Utils.js"></script>
    
    <script type="text/javascript" src="js/chongdashu/System.js"></script>
    <script type="text/javascript" src="js/chongdashu/systems/MovementSystem.js"></script> 
    <script type="text/javascript" src="js/chongdashu/systems/JumpingSystem.js"></script> 
    <script type="text/javascript" src="js/chongdashu/systems/ArrowShootingSystem.js"></script>
    <script type="text/javascript" src="js/chongdashu/systems/EnemySystem.js"></script>

    <script type="text/javascript" src="js/chongdashu/Component.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/KeyboardComponent.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/MouseComponent.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/AimingComponent.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/AudioComponent.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/EnemyComponent.js"></script>
    <script type="text/javascript" src="js/chongdashu/components/HealthComponent.js"></script>
    
    <script type="text/javascript" src="js/chongdashu/BootState.js"></script>
    <script type="text/javascript" src="js/chongdashu/PreloadState.js"></script>
    <script type="text/javascript" src="js/chongdashu/MenuState.js"></script>
    <script type="text/javascript" src="js/chongdashu/GameState.js"></script>

    <title>Game-a-Week - #1</title>
</head>

<body style="background-color: #eeeeee">
    <div id="game-container" style="background-color: 0x000000;"></div>
    <div id="debug" style="position: absolute; top: 0; left: 640; background-color: black; color: white; font-family: consolas;">
    
    </div>

    <div id="debug2" style="position: absolute; top: 320; left: 640; background-color: black; color: white; font-family: consolas;">
        <label id="scaleX">ScaleX</label><br><button id="scaleX-increase" class="btn btn-success">Increase</button><button id="scaleX-decrease"class="btn btn-danger">Decrease</button>
        <br>
        <label id="scaleY">ScaleY</label><br><button id="scaleY-increase" class="btn btn-success">Increase</button><button id="scaleY-decrease"class="btn btn-danger">Decrease</button>
        <br>
        <label id="offsetX">offsetX</label><br><button id="offsetX-increase" class="btn btn-success">Increase</button><button id="offsetX-decrease"class="btn btn-danger">Decrease</button>
        <br>
        <label id="offsetY">offsetY</label><br><button id="offsetY-increase" class="btn btn-success">Increase</button><button id="offsetY-decrease"class="btn btn-danger">Decrease</button>

    </div>
    
    <script>

        var state = null;
        $(document).ready(function() {

            $("#scaleX-increase").click(function() {
                tmp.scale.x += 1;
            });
            $("#scaleY-increase").click(function() {
                tmp.scale.y += 1;
            });
            $("#scaleX-decrease").click(function() {
                tmp.scale.x -= 1;
            });
            $("#scaleY-decrease").click(function() {
                tmp.scale.y -= 1;
            });

            $("#offsetX-increase").click(function() {
                tmp.offset.x += 10;
            });
            $("#offsetY-increase").click(function() {
                tmp.offset.y += 10;
            });
            $("#offsetX-decrease").click(function() {
                tmp.offset.x -= 10;
            });
            $("#offsetY-decrease").click(function() {
                tmp.offset.y -= 10;
            });
            setInterval(function() { 

                state = game.state.getCurrentState();
                var output = "DEBUG<br>";

                if (state) {
                    if (state.enemyGroup) {
                        output += "enemyGroup.length=" + state.enemyGroup.length;
                        output += "<br>";
                    }
                    if (state.arrowGroup) {
                        output += "arrowGroup.length=" + state.arrowGroup.length;
                        output += "<br>";
                    }
                    if (state.enemySpawnTimer) {
                        output += "enemySpawnTimer.duration=" + state.enemySpawnTimer.duration;
                        output += "<br>";
                    }
                    if (state.player) {
                        output += "player.body.facingX=" + (state.player.body.facingX == Phaser.RIGHT ? "RIGHT" : "LEFT");
                        output += "<br";
                    }

                    if (tmp) {
                        $("#scaleX").html("scaleX: " + tmp.scale.x);
                        $("#scaleY").html("scaleY: " + tmp.scale.y);

                        $("#offsetX").html("offsetX: " + tmp.offset.x);
                        $("#offsetY").html("offsetY: " + tmp.offset.y);
                    }
                }

                $("#debug").html(output);

            }, 500);
        });
    </script>
</body>
</html>
